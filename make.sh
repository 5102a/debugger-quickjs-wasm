#!/bin/sh
emcc -g3 main.c ./quickjs/quickjs.c ./quickjs/cutils.c ./quickjs/libregexp.c ./quickjs/libbf.c ./quickjs/libunicode.c ./quickjs/quickjs-debugger.c ./quickjs/quickjs-debugger-transport-unix.c -s WASM=2 -s EXPORTED_RUNTIME_METHODS='["ccall", "cwrap","getValue"]'  -s MODULARIZE=1  -s INVOKE_RUN=0 -s ALLOW_MEMORY_GROWTH=1 --js-library library_a.js -s ALLOW_TABLE_GROWTH=1  -s SUPPORT_ERRNO=0 -s IGNORE_MISSING_MAIN=0 -fdebug-compilation-dir='.' --no-entry -s AUTO_JS_LIBRARIES=0 -s ALLOW_TABLE_GROWTH  -s AUTO_NATIVE_LIBRARIES=0 -s AUTO_ARCHIVE_INDEXES=0 -s DEFAULT_TO_CXX=0 -s ALLOW_UNIMPLEMENTED_SYSCALLS=0  -s NODEJS_CATCH_EXIT=0 -O0 -DQTS_DEBUG_MODE  --source-map-base ./debugger-quickjs-wasm -s ASSERTIONS=1 -s -D_GNU_SOURCE '-DCONFIG_VERSION="2021-03-27"' -DCONFIG_STACK_CHECK -DCONFIG_BIGNUM -o ../debug-demo/src/main.js
# emcc main.c ./quickjs/quickjs.c ./quickjs/cutils.c ./quickjs/libregexp.c ./quickjs/libbf.c ./quickjs/libunicode.c  -s EXPORTED_RUNTIME_METHODS='["ccall", "cwrap"]' -s ENVIRONMENT="web"   -O0 -DQTS_DEBUG_MODE --emit-symbol-map -s ASSERTIONS=1 -s -D_GNU_SOURCE '-DCONFIG_VERSION="2021-03-27"' -DCONFIG_STACK_CHECK -DCONFIG_BIGNUM -o ../TodoLangEditor/src/main.wasm
